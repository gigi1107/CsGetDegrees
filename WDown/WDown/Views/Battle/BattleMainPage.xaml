<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="WDown.Views.Battle.BattleMainPage">
    <ContentPage.Content>
        <AbsoluteLayout 
             BackgroundColor="Black"
             Padding="0,4,0,4"
            >
             <Image 
                 Aspect="AspectFill" 
                 AbsoluteLayout.LayoutBounds="0,0,1,1"
                 AbsoluteLayout.LayoutFlags="All"
                 Source="Hill-PNG-File.png"
                 BackgroundColor="White"
                
                />
        <StackLayout Orientation="Vertical">
            <AbsoluteLayout>
                <Frame OutlineColor="Black"
                       BackgroundColor="White"
                       AbsoluteLayout.LayoutBounds="0.5,0,0.4,200"
                       AbsoluteLayout.LayoutFlags="XProportional,YProportional,WidthProportional">
                    <StackLayout Orientation="Vertical">
                    <Label Text="First Character up, binding" 
                           VerticalOptions="CenterAndExpand" 
                           HorizontalOptions="CenterAndExpand" />
                    <StackLayout Orientation="Horizontal">
                        <StackLayout Orientation="Vertical">
                            <Label Text="HP bar here" />
                            <Label Text="Wisdom bar here" />
                        </StackLayout>
                        <StackLayout>
                            <Image Source="https://i.imgur.com/pNTXqMH.png" />
                        </StackLayout>
                        <StackLayout Orientation="Vertical">
                            <Label Text="Attack level here" />
                            <Label Text="Defense level here" />
                            <Label Text="Speed level here" />
                        </StackLayout>
                    </StackLayout>
                        <StackLayout
                            Orientation="Horizontal">
                            <Button Text="Attack"
                                    HorizontalOptions="CenterAndExpand"
                                    />
                            <Button Text="Rest"
                                    HorizontalOptions="CenterAndExpand"/>
                            <Button Text="Use Item"
                                    HorizontalOptions="CenterAndExpand"/>
                            </StackLayout>
                        </StackLayout>
                </Frame>
            </AbsoluteLayout>
                
                
                <StackLayout Orientation="Horizontal">
                
                
         <!--CHARACTERS SECTION  -->
               <StackLayout 
                            HorizontalOptions="EndAndExpand">

                       

                            <ListView x:Name="SelectedCharactersListView" 
                                ItemsSource="{Binding SelectedCharacters}"
                                VerticalOptions="Start"
                                HorizontalOptions="EndAndExpand"
                                      BackgroundColor="Transparent"
                                HasUnevenRows="true"
                                RefreshCommand="{Binding LoadItemsCommand}"
                                IsPullToRefreshEnabled="true"
                                IsRefreshing="{Binding IsBusy, Mode=OneWay}"
                                CachingStrategy="RecycleElement"
                                >

                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <ViewCell>

                                            <StackLayout Padding="1"
                                            Orientation="Horizontal"
                                            VerticalOptions="Start"
                                            HorizontalOptions="StartAndExpand">

                                                <Image Source="{Binding ImageURI}"
                                               WidthRequest="50"
                                               HeightRequest="50" 
                                               HorizontalOptions="Center"
                                               VerticalOptions="Center"/>

                                                <StackLayout>
                                                    <StackLayout Orientation="Horizontal">
                                                        <Label Text="{Binding Name}" 
                                                           LineBreakMode="NoWrap" 
                                                           Style="{DynamicResource ListItemTextStyle}" />
                                                        <Label Text="{Binding Level}" 
                                                           LineBreakMode="NoWrap" 
                                                           Style="{DynamicResource ListItemTextStyle}" />
                                                    </StackLayout>
                                                </StackLayout>

                                            </StackLayout>
                                        </ViewCell>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                        </StackLayout>
        
            
           <!-- <StackLayout x:Name="CharacterBox">-->
            
                    
<!--                    MONSTERS SECTION-->                    
           
                <Grid
                        HorizontalOptions="StartAndExpand">
                        <Label Text="Monster1"
                               Grid.Row="0"
                               Grid.Column="0"/>
                        <Label Text="Monster2"
                               Grid.Row="0"
                               Grid.Column="1"/>
                        <Label Text="Monster3"
                               Grid.Row="1"
                               Grid.Column="0"/>
                        <Label Text="Monster4"
                               Grid.Row="1"
                               Grid.Column="1"/>
                         <Label Text="Monster5"
                               Grid.Row="2"
                               Grid.Column="0"/>
                         <Label Text="Monster6"
                               Grid.Row="2"
                               Grid.Column="1"/>
                        </Grid>
                    </StackLayout>
               
                        
        
         <!--   <StackLayout x:Name="MonsterBox">-->
          
            <Label Text="Messages"/>
           
            <StackLayout x:Name="MessageBox">
                <Label x:Name="MessageText" LineBreakMode="WordWrap" MaxLines="5" HeightRequest="50">
                </Label>
               <!-- <WebView HeightRequest="100" WidthRequest="100" HorizontalOptions="FillAndExpand" VerticalOptions="Start" x:Name="HtmlBox">
                </WebView>-->
            </StackLayout>
            <Button x:Name="GameNextButton" IsVisible="true" Clicked="OnNextClicked" Text="Next Turn" />
            <Button x:Name="GameOverButton" IsVisible="False" Clicked="OnGameOverClicked" Text="Game Over" />
                </StackLayout>
           
            </AbsoluteLayout>
                
    </ContentPage.Content>
</ContentPage>